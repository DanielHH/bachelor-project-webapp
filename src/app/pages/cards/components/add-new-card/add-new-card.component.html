<!-- Row cardType & cardNumber -->
<div class="row">
  <div class="col-12 col-md-6">
    <mat-form-field>
      <!--Input-->
      <input id="cardTypeInput" name="cardTypeInput" type="text" [(ngModel)]="cardTypeInput" maxlength="128" [style.color]="isValidCardType() ? 'black' : 'gray'"
        placeholder="Card type" aria-label="Number" matInput [matAutocomplete]="cardTypes" [formControl]="cardTypeControl"
        maxlength="10" appCardType required>
      <!--Check and clear-->
      <button mat-button class="size-medium" matSuffix mat-icon-button [disabled]="true">
        <mat-icon [style.color]="'green'" *ngIf="isValidCardType()">done</mat-icon>
      </button>
      <button mat-button class="size-medium" *ngIf="cardTypeInput" matSuffix mat-icon-button aria-label="Clear" (click)="cardTypeInput = ''">
        <mat-icon>close</mat-icon>
      </button>
      <!--Dropdown-->
      <mat-autocomplete #cardTypes="matAutocomplete">
        <mat-option *ngFor="let cardType of filteredCardTypes | async" [value]="cardType.name">
          {{ cardType.name }}
        </mat-option>
      </mat-autocomplete>
      <!--Error-->
      <mat-error *ngIf="cardTypeControl.hasError('required')">Please select a card type</mat-error>
      <mat-error *ngIf="cardTypeControl.hasError('cardType')">
        Please select a valid card type</mat-error>
    </mat-form-field>
  </div>
  <div class="col-12 col-md-6">
    <mat-form-field>
      <!--Input-->
      <input matInput id="cardNumberInput" name="cardNumberInput" [(ngModel)]="cardNumberInput" type="text" maxlength="128" placeholder="Serial number"
        [formControl]="cardNumberControl" required>
      <!--Check and clear-->
      <button mat-button class="size-medium" matSuffix mat-icon-button [disabled]="true">
        <mat-icon [style.color]="'green'" *ngIf="isValidCardNumber()">done</mat-icon>
      </button>
      <button mat-button class="size-medium" *ngIf="cardNumberInput" matSuffix mat-icon-button aria-label="Clear" (click)="cardNumberInput = ''">
        <mat-icon>close</mat-icon>
      </button>
      <!--Error-->
      <mat-error *ngIf="cardNumberControl.hasError('required')">Please enter a card number</mat-error>
    </mat-form-field>
  </div>
</div>

<!-- Row 3 location & expirationDate -->
<div class="row">
  <div class="col-12 col-md-6">
    <mat-form-field>
      <!--Input-->
      <input matInput id="locationInput" name="locationInput" [(ngModel)]="locationInput" type="text" maxlength="128" placeholder="Location"
        [formControl]="locationControl" required>
      <!--Check and clear-->
      <button mat-button class="size-medium" matSuffix mat-icon-button [disabled]="true">
        <mat-icon [style.color]="'green'" *ngIf="isValidLocation()">done</mat-icon>
      </button>
      <button mat-button class="size-medium" *ngIf="locationInput" matSuffix mat-icon-button aria-label="Clear" (click)="locationInput = ''">
        <mat-icon>close</mat-icon>
      </button>
      <!--Error-->
      <mat-error *ngIf="locationControl.hasError('required')">Please enter a location</mat-error>
    </mat-form-field>
  </div>
  <div class="col-12 col-md-6">
    <mat-form-field>
      <!--Input-->
      <input matInput id="expirationDateInput" name="expirationDateInput" type="text" [(ngModel)]="expirationDateInput" placeholder="Expiration date"
        [style.color]="isValidExpirationDate() ? 'black' : 'gray'" maxlength="10" (input)="setExpirationDateToDatePicker();"
        [formControl]="expirationDateControl" appExpirationDate required>
      <!--Check and clear-->
      <button mat-button class="size-medium" matSuffix mat-icon-button [disabled]="true">
        <mat-icon [style.color]="'green'" *ngIf="isValidExpirationDate()">done</mat-icon>
      </button>
      <button mat-button class="size-medium" *ngIf="expirationDateInput" matSuffix mat-icon-button aria-label="Clear" (click)="expirationDateInput = ''">
        <mat-icon>close</mat-icon>
      </button>
      <!--DatePicker-->
      <mat-datepicker #picker></mat-datepicker>
      <!--Hidden input connected to the date picker-->
      <input id="expirationDateDatepickerInput" name="expirationDateDatepickerInput" [(ngModel)]="expirationDateDatepickerInput"
        [matDatepicker]="picker" (dateInput)="setExpirationDateFromDatepicker($event);" type="hidden">
      <mat-datepicker-toggle matSuffix class="size-big" [for]="picker"></mat-datepicker-toggle>
      <!--Errors-->
      <mat-error *ngIf="expirationDateControl.hasError('required')">
        Please select a date
      </mat-error>
      <mat-error *ngIf="expirationDateControl.hasError('expirationDate')">
        Invalid date format
      </mat-error>
    </mat-form-field>
  </div>
</div>

<!-- Row comment -->
<div class="row">
  <div class="col-12 comment-input">
    <mat-form-field>
      <!--Input-->
      <input matInput id="commentInput" name="commentInput" [(ngModel)]="commentInput" type="text" maxlength="128" placeholder="Comment">
      <!--Clear-->
      <button mat-button class="size-medium" *ngIf="commentInput" matSuffix mat-icon-button aria-label="Clear" (click)="commentInput = ''">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>
</div>

<!--Add Cardholder Checkbox-->
<div class="row">
  <div class="col-12 wide-center">
    <label class="p-2">Add cardholder:</label>
    <mat-radio-group>
      <mat-radio-button class="p-2" color="primary" [checked]="true" value="no" (change)="addCardHolder = !addCardHolder;usernameControl.reset();usernameInput='';">No</mat-radio-button>
      <mat-radio-button class="p-2" color="primary" value="yes" (change)="addCardHolder = !addCardHolder">Yes</mat-radio-button>
    </mat-radio-group>
  </div>
</div>
<!--Row username-->
<div class="row">
  <div class="col-0 col-md-3"></div>
  <div class="col-12 col-md-6 wide-center">
    <span class="third-center" *ngIf="addCardHolder">
      <mat-form-field>
        <!--Input-->
        <input id="usernameInput" name="usernameInput" [(ngModel)]="usernameInput" type="text" [style.color]="isValidUsername() ? 'black' : 'gray'"
          placeholder="Username" aria-label="Number" matInput [matAutocomplete]="userIDs" [formControl]="usernameControl" spellcheck="false"
          maxlength="128" appUsername required>
        <!--Check and clear-->
        <button mat-button class="size-medium" matSuffix mat-icon-button [disabled]="true">
          <mat-icon [style.color]="'green'" *ngIf="isValidUsername()">done</mat-icon>
        </button>
        <button mat-button class="size-medium" *ngIf="usernameInput" matSuffix mat-icon-button aria-label="Clear" (click)="usernameInput = ''">
          <mat-icon>close</mat-icon>
        </button>
        <!--Dropdown-->
        <mat-autocomplete #userIDs="matAutocomplete">
          <mat-option *ngFor="let user of filteredUsers | async" [value]="user.username">
            {{ user.username + '
            < ' + user.name + '>' }}
          </mat-option>
        </mat-autocomplete>
        <!--Error-->
        <mat-error *ngIf="usernameControl.hasError('required')">
          Please select a user ID
        </mat-error>
        <mat-error *ngIf="usernameControl.hasError('username')">
          Please select a valid user ID
        </mat-error>
      </mat-form-field>
    </span>
  </div>
  <div class="col-0 col-md-3"></div>
</div>

<!-- Row submit & discard buttons
  <div class="row">
    <div class="col-12 wide-center">
      <button mat-raised-button id="discardBtn" type="button" (click)="false" class="m-3" color="warn">Discard</button>
      <button mat-raised-button id="submitBtn" type="submit" class="m-3" color="primary">Submit</button>
    </div>
  </div>-->
